<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />
<title>p29</title><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<link rel="stylesheet" href="../static/style.min.css" />
<link rel="stylesheet" href="../static/highlight.min.css" />
<link rel="stylesheet" href="../static/temporary.min.css" />
<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="../static/custom.css">

<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}

div#notebook {
  overflow: visible;
  border-top: none;
}@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  } 
  div.output_wrapper { 
    display: block;
    page-break-inside: avoid; 
  }
  div.output { 
    display: block;
    page-break-inside: avoid; 
  }
}
</style>

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Distinct-powers">Distinct powers<a class="anchor-link" href="#Distinct-powers">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Consider all integer combinations of <i>a</i><sup><i>b</i></sup> for 2 ≤ <i>a</i> ≤ 5 and 2 ≤ <i>b</i> ≤ 5:</p>
<blockquote>2<sup>2</sup>=4, 2<sup>3</sup>=8, 2<sup>4</sup>=16, 2<sup>5</sup>=32<br>
3<sup>2</sup>=9, 3<sup>3</sup>=27, 3<sup>4</sup>=81, 3<sup>5</sup>=243<br>
4<sup>2</sup>=16, 4<sup>3</sup>=64, 4<sup>4</sup>=256, 4<sup>5</sup>=1024<br>
5<sup>2</sup>=25, 5<sup>3</sup>=125, 5<sup>4</sup>=625, 5<sup>5</sup>=3125<br></blockquote>
<p>If they are then placed in numerical order, with any repeats removed, we get the following sequence of 15 distinct terms:</p>
<p style="text-align:center;">4, 8, 9, 16, 25, 27, 32, 64, 81, 125, 243, 256, 625, 1024, 3125</p>
<p>How many distinct terms are in the sequence generated by <i>a</i><sup><i>b</i></sup> for 2 ≤ <i>a</i> ≤ 100 and 2 ≤ <i>b</i> ≤ 100?</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Idea">Idea<a class="anchor-link" href="#Idea">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A problem of 'power calculation'</p>
<p>From basic equation: $ (a^i)^{p_i} = (a^j)^{p_j}, iff \; i * p_i = j * p_j $
So for a certain $ a $, we just need to find all pair of $ (i, p_i) $, that have same product.</p>
<p>For example, if $ 2 \le a \le 8 $ and $ 2 \le b \le 8 $,</p>
<ul>
<li>for a = 2, $ i $ could be $ 1 \le i \le log_2{8} $, that is $ i = 1, 2, 3 $. Why $ log_2{8} $ is upper bound is because $ a^i $ need be in $b$ bound</li>
<li>to find (a,b) which has same result as $ (2^i)^{p_i} $, and $ 2 \le i * p_i \le 8, \; 2 \le p_i \le 8 $, it could simplified to find duplicates in [2, 3, 4, ..., 8, 2 * 2, 2 * 3, 2 * 4, ..., 2 * 8, 3 * 2, 3 * 3, 3 * 4, ..., 3 * 8], which is [2 * 2, 2 * 3, 2 * 4, 3 * 2, 3 * 4], 5 numbers</li>
<li>2 * 2 corresponds to (4, 2): $ (2^2)^2 $, which is duplicated with (2, 4): $ (2^1)^4 $</li>
<li>2 * 3 corresponds to (4, 3): $ (2^2)^3 $, which is duplicated with (2, 6): $ (2^1)^6 $</li>
<li>2 * 4 corresponds to (4, 4): $ (2^2)^4 $, which is duplicated with (2, 8): $ (2^1)^8 $</li>
<li>3 * 2 corresponds to (8, 2): $ (2^3)^2 $, which is duplicated with (2, 6): $ (2^1)^6 $</li>
<li>3 * 4 corresponds to (8, 4): $ (2^3)^4 $, which is duplicated with (4, 6): $ (2^2)^6 $</li>
</ul>
<p>So common pattern is [2,...,b, 2*i, ...., b*i, ...., 2*int(log(a_bound, a)), ... b*int(log(a_bound, a))]. And duplicate number is <code>len(former_list) - len(set(former_list))</code></p>
<p><em>ATTENTION</em> : should not consider $ a $, if $ a $ is some result of $ {a'}^b $. e.g. $ 4 = 2^2 $, so ignore 4 as $ a $</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="k">import</span> <span class="n">log</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">multiply_list</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">ele</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="n">e</span> <span class="o">*</span> <span class="n">ele</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">a_bound</span><span class="p">,</span> <span class="n">b_bound</span><span class="p">):</span>
    <span class="n">a_lst</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">a_bound</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">b_lst</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">b_bound</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">a_lst</span><span class="p">)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">b_lst</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">a_lst</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">a_lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">clean_powers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">power</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">a_bound</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="c1"># remove `a` that is not primitive(means `a` is the result of power of some smaller number)</span>
            <span class="n">a_lst</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">power</span><span class="p">))</span>
            <span class="n">clean_powers</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">multiply_list</span><span class="p">(</span><span class="n">b_lst</span><span class="p">,</span> <span class="n">power</span><span class="p">))</span>
        <span class="n">total</span> <span class="o">-=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clean_powers</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">clean_powers</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">total</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">solve</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>15</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">solve</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>44</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">solve</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>9183</pre>
</div>

</div>

</div>
</div>

</div>
    </div>
  </div>
</body>

 


</html>
